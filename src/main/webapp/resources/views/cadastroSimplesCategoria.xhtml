<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:cc="http://xmlns.jcp.org/jsf/composite"
      xmlns:p="http://primefaces.org/ui">

    <cc:interface>
        <cc:attribute name="update" />
        <cc:attribute name="bean" />
        <cc:attribute name="beanAction" />
    </cc:interface>

    <cc:implementation>
        <div id="modalCadastroSimplesCategoria" class="ui mini modal">
            <div class="header">Categoria - Cadastro Simplificado </div>
            <div class="content">
                <h:form id="formCadastroSimplesCategoria" prependId="false" styleClass="ui form">
                    <div class="required field #{!component.findComponent('descricaoCategoria').valid ? 'error' : ''}">
                        <h:outputLabel value="Descrição" for="descricaoCategoria" />
                        <p:inputText id="descricaoCategoria" value="#{categoriaBean.categoria.descricao}" required="true" placeholder="Descrição" />
                    </div>
                </h:form>
            </div>
            <div class="actions">
                <h:form>
                    <p:commandLink process="@this" styleClass="ui grey button" update="#{cc.attrs.id}:formCadastroSimplesCategoria" action="#{categoriaBean.novaCategoria()}"
                                   oncomplete="modal('modalCadastroSimplesCategoria', 'hide')"
                                   partialSubmit="true">
                        <i class="icon close"></i> Cancelar
                    </p:commandLink>
                    <p:commandLink process="@this #{cc.attrs.id}:formCadastroSimplesCategoria" styleClass="ui facebook button" update="#{cc.attrs.update} #{cc.attrs.id}:formCadastroSimplesCategoria" 
                                   action="#{cc.attrs.bean[cc.attrs.beanAction]}"
                                   partialSubmit="true">
                        <i class="icon save"></i> Salvar
                    </p:commandLink>
                </h:form>
            </div>
        </div>
    </cc:implementation>
</html>

